import{ar as i,t as m,e as b,as as _,p as S,_ as s,at as y}from"./C6JQC5l4.js";import{w}from"./C5dbYcYr.js";function J(e,r,u=r){var o=new WeakSet;i(e,"input",async l=>{var a=l?e.defaultValue:e.value;if(a=c(e)?f(a):a,u(a),s!==null&&o.add(s),await m(),a!==(a=r())){var n=e.selectionStart,t=e.selectionEnd,d=e.value.length;if(e.value=a??"",t!==null){var v=e.value.length;n===t&&t===d&&v>d?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=n,e.selectionEnd=Math.min(t,v))}}}),(S&&e.defaultValue!==e.value||b(r)==null&&e.value)&&(u(c(e)?f(e.value):e.value),s!==null&&o.add(s)),_(()=>{var l=r();if(e===document.activeElement){var a=y??s;if(o.has(a))return}c(e)&&l===f(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function c(e){var r=e.type;return r==="number"||r==="range"}function f(e){return e===""?null:+e}const h=JSON.parse(window?.localStorage.getItem("users")??"[]"),k=w(h);k.subscribe(e=>{window?.localStorage.setItem("users",JSON.stringify(e))});export{J as b,k as u};
