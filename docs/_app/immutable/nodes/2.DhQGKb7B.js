import{e as E,p as D}from"../chunks/D4yDA9CO.js";import"../chunks/DsnmJJEf.js";import{ae as J,p as N,a9 as X,g as e,aH as Y,aA as G,s as v,af as w,ag as $,ak as f,ai as g,aj as P,am as _,al as l,n as ee,an as te,ah as j}from"../chunks/CBO7DuCD.js";import{s as H}from"../chunks/Dr88mCMb.js";import{s as ae}from"../chunks/DaslbgNR.js";import{i as Q}from"../chunks/BxVWwbdM.js";import{e as U}from"../chunks/C4iGiUen.js";import{r as re,s as oe}from"../chunks/jIC-_oW4.js";import{s as se}from"../chunks/DviDEE3E.js";import{d as ne,e as x}from"../chunks/DUPt1KeP.js";import{s as z}from"../chunks/CNKEh623.js";import{b as ie}from"../chunks/Dj9NoKCb.js";import{g as S}from"../chunks/CV-I54vG.js";import{r as q}from"../chunks/DZn23Mc8.js";import{g as le}from"../chunks/Dc3o0ewn.js";const ce=!1,ue=!1;async function ve({params:c,fetch:s}){const r=await s("https://pokeapi.co/api/v2/pokemon/?limit=1",{method:"GET"});if(!r.ok)throw E(r.status,{message:r.statusText});const d=(await r.json()).count,i=await s("https://pokeapi.co/api/v2/pokemon/?limit="+d,{method:"GET"});if(!i.ok)throw E(i.status,{message:i.statusText});return{available:(await i.json()).results.map(y=>y.name)}}const Ze=Object.freeze(Object.defineProperty({__proto__:null,load:ve,prerender:ue,ssr:ce},Symbol.toStringTag,{value:"Module"})),me="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Interface%20/%20Search_Magnifying_Glass'%3e%3cpath%20id='Vector'%20d='M15%2015L21%2021M10%2017C6.13401%2017%203%2013.866%203%2010C3%206.13401%206.13401%203%2010%203C13.866%203%2017%206.13401%2017%2010C17%2013.866%2013.866%2017%2010%2017Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",pe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20id='_24x24_On_Light_Recent'%20data-name='24x24/On%20Light/Recent'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20id='view-box'%20width='24'%20height='24'%20fill='none'/%3e%3cpath%20id='Shape'%20d='M9.682,18.75a.75.75,0,0,1,.75-.75,8.25,8.25,0,1,0-6.189-2.795V12.568a.75.75,0,0,1,1.5,0v4.243a.75.75,0,0,1-.751.75H.75a.75.75,0,0,1,0-1.5H3a9.75,9.75,0,1,1,7.433,3.44A.75.75,0,0,1,9.682,18.75Zm2.875-4.814L9.9,11.281a.754.754,0,0,1-.22-.531V5.55a.75.75,0,1,1,1.5,0v4.889l2.436,2.436a.75.75,0,1,1-1.061,1.06Z'%20transform='translate(1.568%202.25)'%20fill='%23141124'/%3e%3c/svg%3e";function fe(c,s,r,o){if(!(!e(s)||e(r).length==0))switch(c.key){case"ArrowDown":v(o,(e(o)+1)%e(r).length);break;case"ArrowUp":v(o,(e(o)-1+e(r).length)%e(r).length);break;case"Enter":if(e(o)>=0){c.preventDefault();const d=e(r)[e(o)].query;S(q("/search/"+d))}}}var de=(c,s)=>{S(q("/search/"+e(s).query))},he=w('<button type="button"><img alt="Search Icon" class="svelte-ul1v7i"/> <span> </span></button>'),ge=w('<div class="prediction-container svelte-ul1v7i"></div>'),_e=w('<h3 class="svelte-ul1v7i">Previous Searches</h3>'),we=(c,s)=>{S(q("/search/"+s.query))},ye=w('<button class="svelte-ul1v7i"> </button>'),be=w('<main class="svelte-ul1v7i"><form action="" class="svelte-ul1v7i"><input type="text" name="query" placeholder="SÃ¶k upp en pokemon" class="svelte-ul1v7i"/> <button type="submit" class="svelte-ul1v7i">Search</button> <!></form> <!> <footer class="svelte-ul1v7i"><!> <div class="svelte-ul1v7i"></div></footer></main> <div class="backdrop svelte-ul1v7i"></div>',1);function Ee(c,s){J(s,!0);let r=G(!1),o=G(""),d=N(s.data.available),i=Y(()=>d.map(t=>({recent:D.some(a=>a.query==t),query:t})).filter(t=>e(o)==""?t.recent:t.query.includes(e(o))).toSorted((t,a)=>e(o)==""?a.recent-t.recent:a.query.startsWith(e(o))-t.query.startsWith(e(o))+.5*(a.recent-t.recent)).slice(0,10)),h=G(-1);X(()=>{e(i)&&e(r)&&v(h,-1)});function M(t){t.preventDefault();const n=new FormData(t.target).get("query");if(n=="")return;let u=n.toLowerCase();S(q("/search/"+u))}var y=be(),R=$(y),b=f(R),m=f(b);re(m),m.__keydown=[fe,r,i,h];var B=_(m,4);{var W=t=>{var a=ge();U(a,23,()=>e(i),n=>n.query,(n,u,k)=>{var p=he();let L;p.__mousedown=[de,u];var O=f(p),Z=_(O,2),K=f(Z,!0);l(Z),l(p),j(I=>{L=se(p,1,"prediction-card svelte-ul1v7i",null,L,I),oe(O,"src",e(u).recent?pe:me),H(K,e(u).query)},[()=>({selected:e(k)==e(h)})]),x("mouseenter",p,()=>{v(h,e(k),!0)}),g(n,p)}),l(a),j(()=>z(a,`z-index: ${le.highestSpriteZ??""};`)),g(t,a)};Q(B,t=>{e(r)&&e(i).length>0&&t(W)})}l(b);var T=_(b,2);ae(T,()=>s.children??ee);var V=_(T,2),C=f(V);{var F=t=>{var a=_e();g(t,a)};Q(C,t=>{D.length>0&&t(F)})}var A=_(C,2);U(A,20,()=>D,t=>t,(t,a)=>{var n=ye();n.__click=[we,a];var u=f(n,!0);l(n),j(k=>{z(n,`background: linear-gradient(120deg, ${k??""});`),H(u,a.query)},[()=>a.colors.join(",")]),g(t,n)}),l(A),l(V),l(R),te(2),x("submit",b,M),x("focus",m,()=>v(r,!0)),x("blur",m,()=>{v(r,!1)}),ie(m,()=>e(o),t=>v(o,t)),g(c,y),P()}ne(["keydown","mousedown","click"]);export{Ee as component,Ze as universal};
