import"../chunks/DsnmJJEf.js";import{ap as X,au as u,aw as j,am as N,ax as Y,at as i,aq as q,an as J,ar as Z,ay as ee,I as e,J as r,as as o,av as l}from"../chunks/DeFAI2uj.js";import{s as f}from"../chunks/MxadlOIO.js";import{e as te}from"../chunks/hEuKYBKn.js";import{s as g}from"../chunks/BcEUb_fU.js";import{s as K}from"../chunks/CxPDzIq1.js";import{d as ae,e as se}from"../chunks/BQ5aHRMj.js";var re=N('<div role="button" tabindex="0"><img class="card-back svelte-1czmmpc"/> <img class="card-front svelte-1czmmpc"/></div>'),le=N('<div class="container svelte-1czmmpc"><main class="svelte-1czmmpc"><h1 class="svelte-1czmmpc">Memory</h1> <p class="game-state svelte-1czmmpc"> </p> <div class="card-grid svelte-1czmmpc"></div> <div class="menu-bar svelte-1czmmpc"><button class="restart-button svelte-1czmmpc"> </button></div></main></div> <aside class="blue-score svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside class="red-score svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside></aside>',1);function ue(S,T){X(T,!0);const $=6;let D="https://i.pinimg.com/originals/79/21/66/792166a01d9f4024b4eb51ae51b0b185.jpg",c=u(j([])),m=u(j({blue:0,red:0})),p=u(""),d=u(""),v=u(!1),h=u(-1);function B(){ee(h);let t=[];for(let a=0;a<$;a++){let s="https://picsum.photos/200?random="+e(h)*$+a;t.push({id:a,image:s,flipped:!1,matched:!1}),t.push({id:a,image:s,flipped:!1,matched:!1})}t.sort(()=>Math.random()-.5),r(c,t,!0),r(m,{blue:0,red:0},!0),r(p,["blue","red"][e(h)%2],!0),r(d,`It is ${e(p)[0].toUpperCase()+e(p).slice(1)}'s turn`),r(v,!1)}B();function _(){return e(c).filter(t=>!t.matched&&t.flipped)}function H(){return e(c).filter(t=>t.flipped)}function E(t){if(e(v)||e(c)[t].flipped||_().length>=2||(e(c)[t].flipped=!e(c)[t].flipped,_().length!=2))return;let a=_();if(a[0].id==a[1].id){a.forEach(s=>{s.matched=!0}),e(m)[e(p)]++,H().length==e(c).length&&(e(m).red>e(m).blue?r(d,"Red has won!"):e(m).red<e(m).blue?r(d,"Blue has won!"):r(d,"It is a draw!"));return}r(v,!0),setTimeout(()=>{e(v)&&(e(c).forEach(s=>{s.flipped=s.matched}),r(v,!1),r(p,e(p)=="blue"?"red":"blue",!0),r(d,`It is ${e(p)[0].toUpperCase()+e(p).slice(1)}'s turn`))},1e3)}var R=le(),b=Y(R),U=i(b),z=o(i(U),2),O=i(z,!0);l(z);var x=o(z,2);te(x,22,()=>e(c),t=>t,(t,a,s)=>{var n=re();let L;n.__click=()=>{E(e(s))};var C=i(n);g(C,"src",D);var M=o(C,2);l(n),q(I=>{L=K(n,1,"card svelte-1czmmpc",null,L,I),g(C,"alt",`Baksida nr ${e(s)??""}`),g(M,"src",a.image),g(M,"alt",`Kort nr ${e(s)??""}`)},[()=>({flipped:a.flipped})]),se("keypress",n,I=>{I.key=="Enter"&&E(e(s))}),J(t,n)}),l(x);var A=o(x,2),k=i(A);k.__click=B;var P=i(k,!0);l(k),l(A),l(U),l(b);var w=o(b,2),F=i(w),Q=i(F,!0);l(F),l(w);var y=o(w,2),G=i(y),V=i(G,!0);l(G),l(y);var W=o(y,2);q(()=>{f(O,e(d)),f(P,e(d)==""?"Restart":"New Game"),f(Q,e(m).blue),f(V,e(m).red),K(W,1,`turn-indicator ${e(p)??""}-score`,"svelte-1czmmpc")}),J(S,R),Z()}ae(["click"]);export{ue as component};
