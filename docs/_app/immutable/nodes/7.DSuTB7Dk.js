import"../chunks/DsnmJJEf.js";import{ae as X,aA as u,p as M,af as T,ag as Y,ak as i,ah as K,ai as N,aj as Z,aB as ee,g as e,s as r,am as o,al as l}from"../chunks/CBO7DuCD.js";import{s as v}from"../chunks/Dr88mCMb.js";import{e as te}from"../chunks/C4iGiUen.js";import{s as g}from"../chunks/jIC-_oW4.js";import{s as S}from"../chunks/DviDEE3E.js";import{d as ae,e as se}from"../chunks/DUPt1KeP.js";var re=T('<div role="button" tabindex="0"><img class="card-back svelte-1czmmpc"/> <img class="card-front svelte-1czmmpc"/></div>'),le=T('<div class="container svelte-1czmmpc"><main class="svelte-1czmmpc"><h1 class="svelte-1czmmpc">Memory</h1> <p class="game-state svelte-1czmmpc"> </p> <div class="card-grid svelte-1czmmpc"></div> <div class="menu-bar svelte-1czmmpc"><button class="restart-button svelte-1czmmpc"> </button></div></main></div> <aside class="blue-score svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside class="red-score svelte-1czmmpc"><p class="svelte-1czmmpc"> </p></aside> <aside></aside>',1);function ue(q,D){X(D,!0);const B=6;let H="https://i.pinimg.com/originals/79/21/66/792166a01d9f4024b4eb51ae51b0b185.jpg",c=u(M([])),m=u(M({blue:0,red:0})),p=u(""),d=u(""),f=u(!1),h=u(-1);function I(){ee(h);let t=[];for(let a=0;a<B;a++){let s="https://picsum.photos/200?random="+e(h)*B+a;t.push({id:a,image:s,flipped:!1,matched:!1}),t.push({id:a,image:s,flipped:!1,matched:!1})}t.sort(()=>Math.random()-.5),r(c,t,!0),r(m,{blue:0,red:0},!0),r(p,["blue","red"][e(h)%2],!0),r(d,`It is ${e(p)[0].toUpperCase()+e(p).slice(1)}'s turn`),r(f,!1)}I();function _(){return e(c).filter(t=>!t.matched&&t.flipped)}function J(){return e(c).filter(t=>t.flipped)}function A(t){if(e(f)||e(c)[t].flipped||_().length>=2||(e(c)[t].flipped=!e(c)[t].flipped,_().length!=2))return;let a=_();if(a[0].id==a[1].id){a.forEach(s=>{s.matched=!0}),e(m)[e(p)]++,J().length==e(c).length&&(e(m).red>e(m).blue?r(d,"Red has won!"):e(m).red<e(m).blue?r(d,"Blue has won!"):r(d,"It is a draw!"));return}r(f,!0),setTimeout(()=>{e(f)&&(e(c).forEach(s=>{s.flipped=s.matched}),r(f,!1),r(p,e(p)=="blue"?"red":"blue",!0),r(d,`It is ${e(p)[0].toUpperCase()+e(p).slice(1)}'s turn`))},1e3)}var E=le(),b=Y(E),R=i(b),z=o(i(R),2),O=i(z,!0);l(z);var k=o(z,2);te(k,22,()=>e(c),t=>t,(t,a,s)=>{var n=re();let G;n.__click=()=>{A(e(s))};var $=i(n);g($,"src",H);var L=o($,2);l(n),K(y=>{G=S(n,1,"card svelte-1czmmpc",null,G,y),g($,"alt",`Baksida nr ${e(s)??""}`),g(L,"src",a.image),g(L,"alt",`Kort nr ${e(s)??""}`)},[()=>({flipped:a.flipped})]),se("keypress",n,y=>{y.key=="Enter"&&A(e(s))}),N(t,n)}),l(k);var U=o(k,2),x=i(U);x.__click=I;var P=i(x,!0);l(x),l(U),l(R),l(b);var w=o(b,2),j=i(w),Q=i(j,!0);l(j),l(w);var C=o(w,2),F=i(C),V=i(F,!0);l(F),l(C);var W=o(C,2);K(()=>{v(O,e(d)),v(P,e(d)==""?"Restart":"New Game"),v(Q,e(m).blue),v(V,e(m).red),S(W,1,`turn-indicator ${e(p)??""}-score`,"svelte-1czmmpc")}),N(q,E),Z()}ae(["click"]);export{ue as component};
